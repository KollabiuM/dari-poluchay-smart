"""
–¢–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π –±–æ—Ç–∞.
–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ —Å HTML-—Ä–∞–∑–º–µ—Ç–∫–æ–π.
"""
from typing import Optional


def get_welcome_message(
    name: str,
    referrer_name: Optional[str] = None,
    reflink: str = "",
) -> str:
    """–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
    referrer_text = ""
    if referrer_name:
        referrer_text = f"\nüë§ –í–∞—à –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫: <b>{referrer_name}</b>\n"
    
    return f"""üéâ <b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –î–∞—Ä–∏ –ü–æ–ª—É—á–∞–π Smart!</b>

–ü—Ä–∏–≤–µ—Ç, <b>{name}</b>! 

–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ –≤–∑–∞–∏–º–Ω—ã—Ö –ø–æ–¥–∞—Ä–∫–æ–≤ –Ω–∞ –±–ª–æ–∫—á–µ–π–Ω–µ TON.
{referrer_text}
üîó <b>–í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞:</b>
<code>{reflink}</code>

üìã <b>–ß—Ç–æ –¥–∞–ª—å—à–µ?</b>
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ TON –∫–æ—à–µ–ª—ë–∫ (@wallet)
2. –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞ ‚Äî –ø–æ–ª—É—á–∏—Ç–µ 30 –¥–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø–µ—Ä–≤—É—é –¥–æ—Å–∫—É (Start ‚Äî 10 USDT)
4. –ù–∞–∂–∏–º–∞–π—Ç–µ "–Ø —Ç—É—Ç" –∫–∞–∂–¥—ã–µ 48 —á–∞—Å–æ–≤

üí° –ö–æ–º–∞–Ω–¥—ã: /help

–£–¥–∞—á–∏! üöÄ"""


def get_welcome_back_message(
    name: str,
    referrer_name: Optional[str] = None,
    reflink: str = "",
    refs_count: int = 0,
    is_globally_active: bool = False,
    is_heartbeat_active: bool = False,
    global_days: int = 0,
    heartbeat_hours: int = 0,
) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–≥–æ—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
    referrer_text = ""
    if referrer_name:
        referrer_text = f"üë§ –ù–∞—Å—Ç–∞–≤–Ω–∏–∫: <b>{referrer_name}</b>\n"
    
    # –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    if is_globally_active and is_heartbeat_active:
        status = f"üü¢ –ê–∫—Ç–∏–≤–µ–Ω ({global_days}–¥ / {heartbeat_hours}—á)"
    elif is_globally_active:
        status = f"üü° –ù–∞–∂–º–∏—Ç–µ '–Ø —Ç—É—Ç'! (–≥–ª–æ–±–∞–ª—å–Ω–∞—è: {global_days}–¥)"
    elif is_heartbeat_active:
        status = f"üü° –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞! (—Ç–µ–∫—É—â–∞—è: {heartbeat_hours}—á)"
    else:
        status = "üî¥ –°–ø—è—â–∏–π ‚Äî –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ '–Ø —Ç—É—Ç'"
    
    return f"""üëã <b>–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º, {name}!</b>

–†–∞–¥—ã –≤–∏–¥–µ—Ç—å –≤–∞—Å —Å–Ω–æ–≤–∞!

{referrer_text}üë• –ü–∞—Ä—Ç–Ω—ë—Ä–æ–≤: <b>{refs_count}</b>
üìä –°—Ç–∞—Ç—É—Å: {status}

üîó <b>–í–∞—à–∞ —Å—Å—ã–ª–∫–∞:</b>
<code>{reflink}</code>

üí° /mystatus ‚Äî –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"""


def get_blocked_message() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ blacklist."""
    return """‚õî <b>–í–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</b>

–í—ã –≤–Ω–µ—Å–µ–Ω—ã –≤ —á—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
‚Ä¢ –û—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚Ä¢ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å—Ö–µ–º "–ñ–∏–≤–∞—è –æ—á–µ—Ä–µ–¥—å"
‚Ä¢ –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Ä–µ–∫—Ä—É—Ç–∏–Ω–≥ –≤ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–µ–∫—Ç—ã
‚Ä¢ –î–µ–π—Å—Ç–≤–∏—è, –Ω–∞–Ω–æ—Å—è—â–∏–µ –≤—Ä–µ–¥ —Å–æ–æ–±—â–µ—Å—Ç–≤—É

üìû –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É."""


def get_dormant_warning_message(
    is_global_expired: bool,
    is_heartbeat_expired: bool,
    reflink: str,
) -> str:
    """–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ '–°–ø—è—â–∏–π'."""
    reasons = []
    
    if is_global_expired:
        reasons.append("‚Ä¢ –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å—Ç–µ–∫–ª–∞ (–ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞)")
    
    if is_heartbeat_expired:
        reasons.append("‚Ä¢ –¢–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å—Ç–µ–∫–ª–∞ (–Ω–∞–∂–º–∏—Ç–µ '–Ø —Ç—É—Ç')")
    
    reasons_text = "\n".join(reasons)
    
    return f"""üò¥ <b>–í—ã –≤ —Å—Ç–∞—Ç—É—Å–µ "–°–ø—è—â–∏–π"</b>

{reasons_text}

<b>–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:</b>
‚Ä¢ –í–∞—Å –æ–±—Ö–æ–¥—è—Ç –ø—Ä–∏ –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏
‚Ä¢ –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ —Å—Ç–∞—Ç—å –ü–æ–ª—É—á–∞—Ç–µ–ª–µ–º
‚Ä¢ –í–∞—Å –º–æ–≥—É—Ç –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –¥–æ—Å–∫–µ

<b>–ß—Ç–æ –¥–µ–ª–∞—Ç—å:</b>
1. –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –¥—Ä—É–≥–∞ –ø–æ —Å—Å—ã–ª–∫–µ:
<code>{reflink}</code>

2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–Ø —Ç—É—Ç" –Ω–∏–∂–µ"""


def get_ban_message(hours: int, violations: int) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ."""
    return f"""‚õî <b>–í—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞</b>

–í–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –Ω–∞ <b>{hours} —á–∞—Å–æ–≤</b>.

–ù–∞—Ä—É—à–µ–Ω–∏–π: {violations}
–°–ª–µ–¥—É—é—â–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±—É–¥–µ—Ç –¥–æ–ª—å—à–µ.

<b>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:</b>
‚Ä¢ –ù–µ–ª—å–∑—è –≤—Ö–æ–¥–∏—Ç—å –Ω–∞ –¥–æ—Å–∫–∏
‚Ä¢ –ù–µ–ª—å–∑—è –Ω–∞–∂–∏–º–∞—Ç—å "–Ø —Ç—É—Ç"
‚Ä¢ –í–∞—Å –∑–∞–º–µ–Ω—è—Ç –Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ –ü–æ–ª—É—á–∞—Ç–µ–ª—è

üí∞ <b>–°–Ω—è—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É:</b>
–û–ø–ª–∞—Ç–∏—Ç–µ 150 USDT (–∏–Ω–¥—É–ª—å–≥–µ–Ω—Ü–∏—è)"""


def get_wallet_connected_message(wallet_address: str) -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫–æ—à–µ–ª—å–∫–∞."""
    short_address = f"{wallet_address[:6]}...{wallet_address[-4:]}"
    
    return f"""‚úÖ <b>–ö–æ—à–µ–ª—ë–∫ –ø–æ–¥–∫–ª—é—á—ë–Ω!</b>

–ê–¥—Ä–µ—Å: <code>{short_address}</code>

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:
‚Ä¢ –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å–∫–∏
‚Ä¢ –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏ –ø–æ–ª—É—á–∞—Ç—å –ø–æ–¥–∞—Ä–∫–∏
‚Ä¢ –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º–µ"""


def get_referral_registered_message(referral_name: str) -> str:
    """–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫—É –æ –Ω–æ–≤–æ–º —Ä–µ—Ñ–µ—Ä–∞–ª–µ."""
    return f"""üéâ <b>–ù–æ–≤—ã–π –ø–∞—Ä—Ç–Ω—ë—Ä!</b>

–ü–æ –≤–∞—à–µ–π —Å—Å—ã–ª–∫–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª—Å—è:
<b>{referral_name}</b>

‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–ª–µ–Ω–∞ –Ω–∞ 30 –¥–Ω–µ–π!"""


def get_gift_received_message(
    amount: float,
    gift_number: int,
    level_name: str,
    from_name: str,
) -> str:
    """–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ –ø–æ–¥–∞—Ä–∫–∞."""
    return f"""üéÅ <b>–í—ã –ø–æ–ª—É—á–∏–ª–∏ –ø–æ–¥–∞—Ä–æ–∫!</b>

–î–æ—Å–∫–∞: {level_name}
–ü–æ–¥–∞—Ä–æ–∫: #{gift_number} –∏–∑ 8
–°—É–º–º–∞: <b>{amount} USDT</b>
–û—Ç: {from_name}"""


def get_gift_sent_message(
    amount: float,
    level_name: str,
    to_name: str,
) -> str:
    """–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—Ç–ø—Ä–∞–≤–∫–µ –ø–æ–¥–∞—Ä–∫–∞."""
    return f"""‚úÖ <b>–ü–æ–¥–∞—Ä–æ–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!</b>

–î–æ—Å–∫–∞: {level_name}
–°—É–º–º–∞: <b>{amount} USDT</b>
–ö–æ–º—É: {to_name}

–û–∂–∏–¥–∞–π—Ç–µ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –Ω–∞ –¥–æ—Å–∫–µ."""


def get_not_registered_message() -> str:
    """–°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è."""
    return """‚ùå <b>–í—ã –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã</b>

–û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /start –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏."""
